<!DOCTYPE html>
<html>
<head>
    <!--引入样式-->
    <!-- 最新版本的 Bootstrap 核心 CSS 文件 -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap.min.css" integrity="sha384-BVYiiSIFeK1dGmJRAkycuHAHRg32OmUcww7on3RYdg4Va+PmSTsz/K68vbdEjh4u" crossorigin="anonymous">
    <!-- 可选的 Bootstrap 主题文件（一般不用引入） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/css/bootstrap-theme.min.css" integrity="sha384-rHyoN1iRsVXV4nD0JutlnGaslCJuC7uwjduW9SVrLvRYooPp2bWYgmgJQIXwl/Sp" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/jquery@1.12.4/dist/jquery.min.js"></script>
    <!-- 加载 Bootstrap 的所有 JavaScript 插件。你也可以根据需要只加载单个插件。 -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@3.3.7/dist/js/bootstrap.min.js"></script>
</head>

<body style="text-align:center">
    <div class="col-sm-10">
        <!-- 定义按钮 -->
        <button id="btn1" class="btn btn-danger">console</button>
        <button id="btn2" class="btn btn-danger">alert</button>
        <button id="btn3" class="btn btn-warning">getBasePath</button>
    </div>
    <div class="col-sm-10">
            <input type="text" name="empName" class="form-control" id="empName_input" placeholder="empName">
            <input type="text" name="empName" class="form-control" id="empName_input" value="${basePath}">
            <span class="help-block"></span>
            <span id="empName_input_feedBack"></span>  
    </div>
<script>
var fn = x => x * x;

// alert(fn(5));
</script>

<script>

$("#btn1").click(function(){
    var f = a();
    f.console("hello","world");
});
$("#btn2").click(function(){
    var f = a();
    f.alert("hello","world");
});
$("#btn3").click(function(){
    var curWwwPath = window.document.location.href;
    var pathName = window.document.location.pathname;
    var pos = curWwwPath.indexOf(pathName);
    var basePath = curWwwPath.substring(0, pos);
});
function a(){
    return {
        alert:function(ele,msg){
            alert(ele+" "+msg);
        },
        console:function(ele,msg){
            console.log(ele+" "+msg)
        }
    }
}
</script>
<script>
$("#empName_input").change(function () {
    //校验用户名
    //1.拿到要校验的值
    var empName = $("#empName_input").val();
    //2.正则表达式匹配
    var regName = /(^[a-zA-Z0-9_-]{6,16}$)|(^[\u4e00-\u9fa5]{2,5})/;
    var f = show_validate_status();
    if (!regName.test(empName)) {
        //alert("用户名可以是2-5位中文或者6-16位字母和数字")
        f.error("#empName_input", "用户名可以是2-5位中文或者6-16位字母和数字");
    }else {
        f.success("#empName_input", "");
    };
});
function show_validate_status(){
    
    return {
        success:function(ele,msg){
            console.log(ele);
            $(ele).parent().addClass("has-success has-feedback");
            $(ele).next("span").text(msg).next("span").addClass("glyphicon glyphicon-ok form-control-feedback");
        },
        error:function(ele,msg){
            $(ele).parent().addClass("has-error has-feedback");
            $(ele).next("span").text(msg).next("span").addClass("glyphicon glyphicon-remove form-control-feedback");
        },
        reset:function(ele){
            $(ele).parent().removeClass("has-success has-error has-feedback");
            $(ele).next("span").text("").next("span").removeClass("glyphicon glyphicon-remove glyphicon-ok form-control-feedback");
        }
    }
}

</script>
</body>
</html>